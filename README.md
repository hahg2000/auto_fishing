# 棕色尘埃2的python钓鱼脚本

## 介绍

基于图像识别进行QTE操作，只点击黄色区域，简单的QTE操作没问题，例如QTE条上有一些遮挡物，把黄色区域覆盖了，就容易失败

## 使用步骤——源码运行

+ 测试环境：
+ Python 3.12.4
+ Pypi 24.0

### 1. 创建虚拟环境

打开空文件夹，并在空文件夹打开`powershell`，输入下面命令

```sh
# py -版本 -m venv 环境名字
py -3.12 -m venv auto_fishing
```
### 2. 进入虚拟环境

继续输入下面命令进入虚拟环境

```sh
# .\环境名字\Scripts\activate
.\auto_fishing\Scripts\activate
```

### 3. 安装必要的依赖

```sh
pip install -r requirements.txt
```

### 4. 运行脚本

运行脚本后，点击一下游戏里，注意游戏界面要全部展示出来，**无其他窗口遮挡，窗口始终处于焦点状态**

```sh
python main.py
```

## 使用步骤——exe运行

### 1. 进入到工作流界面

点击此 [链接](https://github.com/hahg2000/auto_fishing/actions) 或者在上面点击 **Actions**

### 2. 选择一个最新的工作流

### 3. 下载 Artifacts 里面的成品并解压

## 可能遇到的问题

- [ ] 识别不到鱼上钩了（识别感叹号来判断鱼是否上钩，深渊巨口地图没有感叹号的匹配度会莫名得高
- [x] 背包满了（功能完成了，需要多次测试
- [x] 对于一些干扰QTE的操作容易失败（因为出现的概率少所以不太好测试
- [x] 不同分辨率和颜色范围没有测试过（懂代码的可以自行调整代码里的颜色范围
- [x] 冰霜海峡的锁定光标需要连续点击空格的没有实现
- [ ] 不同分辨率和颜色范围提取到了配置文件，暂时方案：提交测试的工具，可自行修改；最终方案：按照游戏分辨率和颜色范围自动生成配置文件（限于设备因素应该是实现不了了）
- [ ] 深渊巨口地图黄色部分有时会消失（增加黄色部分判定时间还是增加判定蓝色部分？
- [ ] 深渊巨口地图出现多个光标（增加对比度来判断真的光标？
